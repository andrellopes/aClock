# Digital Clock ‚è∞

A simple, full-screen, customizable digital clock app built with Flutter for Android.

Play Store: [aClock on Google Play](https://play.google.com/store/apps/details?id=dev.allc.a_clock)

![Settings Screen](https://i.imgur.com/mJgQ3hW.png)
![About Screen](https://i.imgur.com/g8eY7fN.png)

---

## ‚ú® Features

- **Immersive Full Screen**: The clock occupies the entire screen, without status bars or navigation.
- **High Customization**:
  - Change background color.
  - Change font color.
  - Adjust font size.
- **Subtle Animation**: An optional smooth sliding animation for the clock.
- **Persistence**: Your customization settings are saved on the device.
- **Clean Interface**: Tap the screen to reveal the settings button and credits.
- **Discrete Monetization**: An ad banner is displayed only on the settings screen.

---

## üõ†Ô∏è Technologies Used

- [Flutter](https://flutter.dev/)
- [Dart](https://dart.dev/)
- [Google Mobile Ads](https://pub.dev/packages/google_mobile_ads) for ads.
- [Shared Preferences](https://pub.dev/packages/shared_preferences) for saving settings.

---

## üöÄ How to Run the Project

### Prerequisites

- Have the [Flutter SDK](https://flutter.dev/docs/get-started/install) installed.
- An Android emulator or physical device.

### Steps

1. **Clone the repository:**

    ```powershell
    git clone https://github.com/andrellopes/allc-a_clock.git
    cd allc-a_clock
    ```

2. **Install dependencies:**

    ```powershell
    flutter pub get
    ```

3. **Run the app:**

    ```powershell
    flutter run
    ```

---

## üîê Publishing as a public repository (without leaking secrets)

This app is already in production (Google Play). To keep the code open source without exposing credentials, some precautions have been taken:

- The `.gitignore` file has been strengthened to NOT version:
    - `android/key.properties`, `android/app/release-key.jks`, `*.jks`, `*.keystore`, `*.p12`
    - `android/local.properties`
    - `**/google-services.json` (Android) and `**/GoogleService-Info.plist` (iOS/macOS)
    - `lib/firebase_options.dart` (generated by FlutterFire)
    
    Note: `lib/secrets.dart` is intentionally kept in the repository but only
    with Google's TEST AdMob IDs. This keeps the app runnable without exposing
    real credentials. Do not place production IDs directly in this file.

### Steps to run locally

1. AdMob (without exposing real IDs):

    - Option A ‚Äî override via flag (quick):

    ```powershell
    flutter build appbundle --release --dart-define=ADMOB_BANNER_ANDROID=ca-app-pub-XXXXXXXXXXXXXXX/ZZZZZZZZZZ
    ```

    The flag doesn't leak anything to the repository. Useful for one-off builds.

    - Option B ‚Äî local file (recommended, no flags):

    1. Copy the example and edit with your real IDs:

        ```powershell
        Copy-Item assets\config\admob.json.example assets\config\admob.json -Force
        ```

    1. Open `assets/config/admob.json` and fill in:

        ```json
        {
            "bannerAndroid": "ca-app-pub-XXXXXXXXXXXXXXX/AAAAAAA",
            "bannerSettingsAndroid": "ca-app-pub-XXXXXXXXXXXXXXX/BBBBBBB"
        }
        ```

    1. Run normally (without --dart-define). The app will read this file at runtime.

    Important notes:
    - `assets/config/admob.json` is already in `.gitignore` ‚Äî it won't be committed.
    - If the file doesn't exist, we automatically use Google's TEST IDs (safe).
    - The Android AdMob App ID still comes from `android/local.properties` (see item 4 below).

2. Firebase (Android/Windows):

     - Generate files with FlutterFire CLI (don't commit them):

         ```powershell
         dart pub global activate flutterfire_cli
         flutterfire configure
         ```

     - This will create `lib/firebase_options.dart` and `android/app/google-services.json` (both ignored by git).

3. Android signing (keystore):

    - Keep `android/key.properties` and `android/app/release-key.jks` only locally.
    - They are already ignored in `.gitignore`.
    - For convenience, you can create a template from the example file:

    ```powershell
    Copy-Item android\key.properties.example android\key.properties -Force
    ```

4. AdMob App ID in AndroidManifest:

     - The `AndroidManifest.xml` uses a placeholder `${ADMOB_APP_ID}`.
     - Set the real value in `android/local.properties` (not versioned):

         ```properties
         admob.app.id=ca-app-pub-XXXXXXXXXXXXXXXX~YYYYYYYYYY
         ```

    - If not set, the build uses Google's TEST App ID by default.
    - Tip: there's a template in `android/local.properties.example`. You can copy with:

    ```powershell
    Copy-Item android\local.properties.example android\local.properties -Force
    ```

### Optional secrets verification before push

You can use a tool like [gitleaks](https://github.com/gitleaks/gitleaks) to scan the repository:

```powershell
gitleaks detect --no-banner --redact
```

This helps avoid accidentally pushing keys.

---

## üß© Platforms and build

- Android: supported (Play Store). See scripts `quick_build.bat` and `build_aab.bat` for local builds.

---

## üåê Localization

Portuguese, English, and Spanish. Files in `l10n/` and `l10n.yaml`.

---

## ü§ù How to contribute

Contributions are welcome! Suggestions for improvements, issues, and PRs help a lot.

Suggested steps:

1. Open an Issue describing the change.
2. Create a fork and a branch.
3. Keep secrets out of commit (follow the üîê section above).
4. Open the PR with a clear summary of changes.

---

## üìù License

Distributed under the license of the `LICENSE` file in this repository.

---

## üîè Privacy

This app uses ads (AdMob), in-app purchases, and Crashlytics. For details, maintain a public Privacy Policy (e.g., `docs/PRIVACY.md`) and reference it in the Play Store.

---

## üßë‚Äçüíª Developed by

**allc** üöÄ
